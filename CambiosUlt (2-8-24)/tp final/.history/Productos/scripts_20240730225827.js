'use strict';

let products = [
    {
        id: 1 ,
        nombre: "Harina Pureza Ultra Refinada" ,
        img: "./C:\Users\Usuario\OneDrive\Escritorio\Olavarria Full Stack\HTML\HTML Full Stack\Clases JavaScript\tp final\Productos\imagenes Productos\imagenes Productos\Harina_pureza_ultrarefinada_000-removebg-preview.png",
        precio: 1500 , 
        stock: 100 ,
    },
    {
        id: 1 ,
        nombre: "Harina Pureza Ultra Refinada" ,
        img: "./C:\Users\Usuario\OneDrive\Escritorio\Olavarria Full Stack\HTML\HTML Full Stack\Clases JavaScript\tp final\Productos\imagenes Productos\imagenes Productos\Harina_pureza_ultrarefinada_000-removebg-preview.png",
        precio: 1500 , 
        stock: 100 ,
    },
    {
        id: 1 ,
        nombre: "Harina Pureza Ultra Refinada" ,
        img: "./C:\Users\Usuario\OneDrive\Escritorio\Olavarria Full Stack\HTML\HTML Full Stack\Clases JavaScript\tp final\Productos\imagenes Productos\imagenes Productos\Harina_pureza_ultrarefinada_000-removebg-preview.png",
        precio: 1500 , 
        stock: 100 ,
    },
    {
        id: 1 ,
        nombre: "Harina Pureza Ultra Refinada" ,
        img: "./C:\Users\Usuario\OneDrive\Escritorio\Olavarria Full Stack\HTML\HTML Full Stack\Clases JavaScript\tp final\Productos\imagenes Productos\imagenes Productos\Harina_pureza_ultrarefinada_000-removebg-preview.png",
        precio: 1500 , 
        stock: 100 ,
    },
    {
        id: 1 ,
        nombre: "Harina Pureza Ultra Refinada" ,
        img: "./C:\Users\Usuario\OneDrive\Escritorio\Olavarria Full Stack\HTML\HTML Full Stack\Clases JavaScript\tp final\Productos\imagenes Productos\imagenes Productos\Harina_pureza_ultrarefinada_000-removebg-preview.png",
        precio: 1500 , 
        stock: 100 ,
    },
    {
        id: 1 ,
        nombre: "Harina Pureza Ultra Refinada" ,
        img: "./C:\Users\Usuario\OneDrive\Escritorio\Olavarria Full Stack\HTML\HTML Full Stack\Clases JavaScript\tp final\Productos\imagenes Productos\imagenes Productos\Harina_pureza_ultrarefinada_000-removebg-preview.png",
        precio: 1500 , 
        stock: 100 ,
    },
    {
        id: 1 ,
        nombre: "Harina Pureza Ultra Refinada" ,
        img: "./C:\Users\Usuario\OneDrive\Escritorio\Olavarria Full Stack\HTML\HTML Full Stack\Clases JavaScript\tp final\Productos\imagenes Productos\imagenes Productos\Harina_pureza_ultrarefinada_000-removebg-preview.png",
        precio: 1500 , 
        stock: 100 ,
    },
    {
        id: 1 ,
        nombre: "Harina Pureza Ultra Refinada" ,
        img: "./C:\Users\Usuario\OneDrive\Escritorio\Olavarria Full Stack\HTML\HTML Full Stack\Clases JavaScript\tp final\Productos\imagenes Productos\imagenes Productos\Harina_pureza_ultrarefinada_000-removebg-preview.png",
        precio: 1500 , 
        stock: 100 ,
    },
    {
        id: 1 ,
        nombre: "Harina Pureza Ultra Refinada" ,
        img: "./C:\Users\Usuario\OneDrive\Escritorio\Olavarria Full Stack\HTML\HTML Full Stack\Clases JavaScript\tp final\Productos\imagenes Productos\imagenes Productos\Harina_pureza_ultrarefinada_000-removebg-preview.png",
        precio: 1500 , 
        stock: 100 ,
    },
    {
        id: 1 ,
        nombre: "Harina Pureza Ultra Refinada" ,
        img: "./C:\Users\Usuario\OneDrive\Escritorio\Olavarria Full Stack\HTML\HTML Full Stack\Clases JavaScript\tp final\Productos\imagenes Productos\imagenes Productos\Harina_pureza_ultrarefinada_000-removebg-preview.png",
        precio: 1500 , 
        stock: 100 ,
    },
    {
        id: 1 ,
        nombre: "Harina Pureza Ultra Refinada" ,
        img: "./C:\Users\Usuario\OneDrive\Escritorio\Olavarria Full Stack\HTML\HTML Full Stack\Clases JavaScript\tp final\Productos\imagenes Productos\imagenes Productos\Harina_pureza_ultrarefinada_000-removebg-preview.png",
        precio: 1500 , 
        stock: 100 ,
    },
    {
        id: 1 ,
        nombre: "Harina Pureza Ultra Refinada" ,
        img: "./C:\Users\Usuario\OneDrive\Escritorio\Olavarria Full Stack\HTML\HTML Full Stack\Clases JavaScript\tp final\Productos\imagenes Productos\imagenes Productos\Harina_pureza_ultrarefinada_000-removebg-preview.png",
        precio: 1500 , 
        stock: 100 ,
    },
    {
        id: 1 ,
        nombre: "Harina Pureza Ultra Refinada" ,
        img: "./C:\Users\Usuario\OneDrive\Escritorio\Olavarria Full Stack\HTML\HTML Full Stack\Clases JavaScript\tp final\Productos\imagenes Productos\imagenes Productos\Harina_pureza_ultrarefinada_000-removebg-preview.png",
        precio: 1500 , 
        stock: 100 ,
    },
    {
        id: 1 ,
        nombre: "Harina Pureza Ultra Refinada" ,
        img: "./C:\Users\Usuario\OneDrive\Escritorio\Olavarria Full Stack\HTML\HTML Full Stack\Clases JavaScript\tp final\Productos\imagenes Productos\imagenes Productos\Harina_pureza_ultrarefinada_000-removebg-preview.png",
        precio: 1500 , 
        stock: 100 ,
    },
    {
        id: 1 ,
        nombre: "Harina Pureza Ultra Refinada" ,
        img: "./C:\Users\Usuario\OneDrive\Escritorio\Olavarria Full Stack\HTML\HTML Full Stack\Clases JavaScript\tp final\Productos\imagenes Productos\imagenes Productos\Harina_pureza_ultrarefinada_000-removebg-preview.png",
        precio: 1500 , 
        stock: 100 ,
    },
    {
        id: 1 ,
        nombre: "Harina Pureza Ultra Refinada" ,
        img: "./C:\Users\Usuario\OneDrive\Escritorio\Olavarria Full Stack\HTML\HTML Full Stack\Clases JavaScript\tp final\Productos\imagenes Productos\imagenes Productos\Harina_pureza_ultrarefinada_000-removebg-preview.png",
        precio: 1500 , 
        stock: 100 ,
    },
    {
        id: 1 ,
        nombre: "Harina Pureza Ultra Refinada" ,
        img: "./C:\Users\Usuario\OneDrive\Escritorio\Olavarria Full Stack\HTML\HTML Full Stack\Clases JavaScript\tp final\Productos\imagenes Productos\imagenes Productos\Harina_pureza_ultrarefinada_000-removebg-preview.png",
        precio: 1500 , 
        stock: 100 ,
    },
    
]

// Arreglo Productos, Precios , Cantidad //
let arrayProducts = ["Harina" , "CocaCola" ,  "Sprite"  ,  "Azucar"  , "GalletitasCriollitas"  ,  "Fideos"  ,   "Cerveza"   ,  "GalletitasOpera"  ,  "purePapa"  , "quesoCremon"   ,  "quesoRallado"   ,  "manteca"  ,  "salsaPizza"  ,   "cafeCortado"  ,  "dulceDeLeche"  ,  "arvejas"  ,  "choclo"   ,  "lecheDescremada"   ,   "lecheEntera"  , "yerbaUnion" ]
let arrayPrice =    [  1500   ,    2550    ,    2300    ,    1900    ,          2100           ,    2200    ,     1500      ,        1000         ,     1800     ,      1500       ,       1600        ,    1350     ,      1250      ,       1450       ,       1320       ,    1100     ,    1120     ,       1000           ,        1000      ,     1800     ]
let arrayQuantity = [  150    ,    130     ,    100     ,    100     ,          100            ,    100     ,      100      ,        100          ,     100      ,      100        ,        100        ,     100     ,       100      ,        100       ,       100        ,     100     ,     100     ,        100           ,        100       ,      100     ] 
//crear arreglo nuevo (arrayquantity inicial), se presiona el boton de 
let total = 0;
//Selecciona todas las tarjetas (articles)
document.querySelectorAll(".article").forEach(article => {
    //evento para boton de añadir al carrito
    //añadir escuchador de evento click a cada tarjeta ( for each por cada tarjeta(article) )
    article.querySelector("button").addEventListener('click' , (e) => {
        e.preventDefault();
        let productsIndex = article.getAttribute("data-index");
        let stocks = document.querySelectorAll(".stock");
        let cantidad = article.querySelector("input").value;
        cantidad = Number(cantidad);
        if(cantidad > 0 && (arrayQuantity[productsIndex] - cantidad) >= 0){
            comprar(productsIndex , cantidad);
            arrayQuantity[productsIndex] -= cantidad;
            stocks[productsIndex].innerText = arrayQuantity[productsIndex];
        }else{
            alert("Ingrese una cantidad mayor a 0 o no hay suficiente Stock");
        }
    });
});

function comprar(productsIndex , cantidad) {
    let totalElements = document.querySelector(".resultado");
    total += arrayPrice[productsIndex] * cantidad;
    totalElements.innerHTML = `Total: ${total} `;
}



